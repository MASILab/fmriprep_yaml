---
moreauto: true
procversion: 1.5.0
procname: fmriprep
proctype: fmriprep_v1.5.0

inputs:
  default:
    container_path: fmriprep-1.5.0.simg
 
  xnat:
    scans:
      - name: scan_fmri
        types: Resting State
        needs_qc: False
        resources:
          - resource: NIFTI
            fmatch: '*.nii.gz'
            fcount: 1
            ftype: FILE
            fdest: fmri.nii.gz
            ddest: sub-01/func/sub-01_task-rest_run-01_bold.nii.gz
            varname: fmri_niigz
      - name: scan_t1
        types: T1W/3D/TFE
        needs_qc: False
        resources:
          - resource: NIFTI
            fmatch: '*.nii.gz'
            fcount: 1
            ftype: FILE
            fdest: t1.nii.gz
            ddest: sub-01/anat/sub-01_T1w.nii.gz
            varname: t1_niigz

outputs:
  - path: fmriprep/sub-01.html
    type: FILE
    resource: HTML

command: >-
  singularity
  run
  --cleanenv
  --bind /data/mcr/centos7/FS6/license.txt:/usr/local/freesurfer/license.txt
  --home $INDIR
  --bind $INDIR:/INPUTS
  --bind $OUTDIR:/OUTPUTS
  {container_path}
  /INPUTS/
  /OUTPUTS/ 
  participant
  --fs-license-file /usr/local/freesurfer/
 
attrs:
  xsitype: proc:genProcData
  walltime: '24:00:00'
  memory: 16G
  ppn: 1
jobtemplate: job_template.txt
